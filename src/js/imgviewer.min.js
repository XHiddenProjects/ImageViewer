class ImgViewer{constructor(){}init(){let e=document.querySelectorAll(".imgViewer-container");for(let t=0;t<e.length;t++)e[t].classList.add("loaded")}mkLk(e){if(!e.match(/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/ig))return e;{let t=e.match(/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/ig);return e.replace(/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/ig,'<a href="'+t+'" target="_blank">'+t+"</a>")}}mkNL(e){return e.match(/\n|\r|\r\n/)?(e.match(/\n|\r|\r\n/),e.replace(/\n|\r|\r\n/,"<br/>")):e}gallery(e){if("object"!=typeof e)return console.error("gallery[1] must be a JSON object"),!1;if("number"!=typeof e.width)return console.error("gallery[1].width must be a number"),!1;if(e.width=Math.round(e.width),"boolean"!=typeof e.desc.display)return console.error("gallery[1].desc.display must be a boolean"),!1;if("boolean"!=typeof e.desc.viewer)return console.error("gallery[1].desc.viewer must be a boolean"),!1;let t=document.querySelectorAll(".imgViewer-container.loaded");for(let i=0;i<t.length;i++)if("gallery"===t[i].getAttribute("view").toLowerCase()){if(!e.desc.display||e.desc.viewer?t[i].classList.add("noCaption"):t[i].classList.add("caption"),e.desc.viewer||t[i].classList.add("noView"),void 0!==e.desc.pos){if(!/tl|tr|ct|bl|br/.test(e.desc.pos))return console.error("You must have tl(top-left)|tr(top-right)|ct(center)|bl(bottom-left)|br(bottom-right)"),!1;e.desc.pos&&t[i].classList.add("caption-"+e.desc.pos)}e.hover&&t[i].classList.add("hoverable");let r=t[i].querySelectorAll("img");for(let a=0;a<r.length;a++){let s=document.createElement("div");s.innerHTML=e.desc.display&&!e.desc.viewer?r[a].outerHTML+'<span class="ImgViewer-desc">'+(null!==r[a].getAttribute("img-desc")?this.mkNL(this.mkLk(r[a].getAttribute("img-desc"))):"")+"</span>":r[a].outerHTML,s.classList.add("view"),s.setAttribute("viewData",a+1),t[i].replaceChild(s,r[a])}/auto|1|2|3|4|5|6|7|8/.test(e.width.toString())?"auto"===e.width?t[i].setAttribute("ws",t[g].querySelectorAll("img").length+"x"):t[i].setAttribute("ws",e.width.toString()+"x"):console.error("You must have auto|1|2|3|4|5|6|7|8")}}stack(e){if("object"!=typeof e)return console.log("stack[1] must be a JSON object"),!1;if("boolean"!=typeof e.desc.display)return console.error("stack[1].desc.display must be a boolean"),!1;if("boolean"!=typeof e.desc.viewer)return console.error("stack[1].desc.viewer must be a boolean"),!1;let t=document.querySelectorAll(".imgViewer-container.loaded");for(let i=0;i<t.length;i++)if("stack"===t[i].getAttribute("view").toLowerCase()){!e.desc.display||e.desc.viewer?t[i].classList.add("noCaption"):t[i].classList.add("caption"),e.desc.viewer||t[i].classList.add("noView");let r=t[i].querySelectorAll("img");for(let a=0;a<r.length;a++){let s=document.createElement("div");s.innerHTML=e.desc.display&&!e.desc.viewer?r[a].outerHTML+'<span class="ImgViewer-desc">'+(null!==r[a].getAttribute("img-desc")?this.mkLk(r[a].getAttribute("img-desc")):"")+"</span>":r[a].outerHTML,s.classList.add("view"),s.setAttribute("viewData",a+1),s.tabIndex=a+1,a+1===1&&s.setAttribute("autofocus",!0),t[i].replaceChild(s,r[a])}}}frame(e){if("object"!=typeof e)return console.error("frame[1] must be a JSON object"),!1;if("boolean"!=typeof e.desc.display)return console.error("frame[1].desc.display must be a boolean"),!1;if("boolean"!=typeof e.desc.viewer)return console.error("frame[1].desc.viewer must be a boolean"),!1;if("string"!=typeof e.type)return console.error("frame[1].type must be a string"),!1;if("portrait"!==e.type&&"landscape"!==e.type)return console.error("frame[1].type must be a portrait or landscape"),!1;void 0===e.radius?e.radius="0":e.radius=e.radius;let t=document.querySelectorAll(".imgViewer-container.loaded");for(let i=0;i<t.length;i++)if("frame"===t[i].getAttribute("view").toLowerCase()){!e.desc.display||e.desc.viewer?t[i].classList.add("noCaption"):t[i].classList.add("caption"),e.desc.viewer||t[i].classList.add("noView"),t[i].classList.add(e.type),t[i].style.borderRadius=e.radius;let r=t[i].querySelectorAll("img, video");if(r.length>1||r.length<=0)return console.error("You have too many/too less images, REQUIRED MAX 1"),!1;for(let a=0;a<r.length;a++){let s=document.createElement("div");s.innerHTML=e.desc.display&&!e.desc.viewer?r[a].outerHTML+'<span class="ImgViewer-desc">'+(null!==r[a].getAttribute("img-desc")?this.mkNL(this.mkLk(r[a].getAttribute("img-desc"))):"")+"</span>":r[a].outerHTML,s.classList.add("view"),s.setAttribute("viewData",a+1),s.tabIndex=a+1,t[i].replaceChild(s,r[a])}}}card(e){if("object"!=typeof e)return console.error("card[1] must be a JSON object"),!1;if("boolean"!=typeof e.desc.display)return console.error("card[1].desc.display must be a boolean"),!1;if("boolean"!=typeof e.desc.viewer)return console.error("card[1].desc.viewer must be a boolean"),!1;let t=document.querySelectorAll(".imgViewer-container.loaded");for(let i=0;i<t.length;i++)if("card"===t[i].getAttribute("view").toLowerCase()){!e.desc.display||e.desc.viewer?t[i].classList.add("noCaption"):t[i].classList.add("caption"),e.desc.viewer||t[i].classList.add("noView");let r=t[i].querySelectorAll("img");if(r.length>1||r.length<=0)return console.error("You have too many/too less images, REQUIRED MAX 1"),!1;for(let a=0;a<r.length;a++){let s=document.createElement("div");s.innerHTML=(e.desc.display&&e.desc.viewer,r[a].outerHTML),s.classList.add("view"),s.setAttribute("viewData",a+1),s.tabIndex=a+1,t[i].replaceChild(s,r[a])}for(let o=0;o<r.length;o++){let l=document.createElement("span");l.innerHTML=this.mkNL(this.mkLk(r[o].getAttribute("img-desc"))),l.classList.add("ImgViewer-desc"),t[i].insertBefore(l,t[i].children[0])}}}video(e){if("object"!=typeof e)return console.error("video[1] must be a JSON object"),!1;let t=document.querySelectorAll(".imgViewer-container.loaded");for(let i=0;i<t.length;i++)if(e.desc.viewer=!1,"video"===t[i].getAttribute("view").toLowerCase()){!e.desc.display||e.desc.viewer?t[i].classList.add("noCaption"):t[i].classList.add("caption"),e.desc.viewer||t[i].classList.add("noView");let r=t[i].querySelectorAll("video");for(let a=0;a<r.length;a++){""!==e.poster[a]&&e.poster.length>0&&(r[a].poster=e.poster[a]);let s=[];if(r[a].setAttribute("ondblclick",'setFull(this.parentElement.querySelector(".fullscreen"),70)'),r[a].tabIndex="1",r[a].setAttribute("onkeydown",'setFull(this.parentElement.querySelector(".fullscreen"), event);setMute(this.parentElement.querySelector(".mute"),event);actVid(this.parentElement.querySelector(".play-pause-btn"), event);addSec(this, '+(void 0!==e.skipRate?0==e.skipRate.length||0==e.skipRate[a]?5:e.skipRate[a]:5)+", event);hideContent(this);"),r[a].setAttribute("onclick",'actVid(this.parentElement.querySelector(".play-pause-btn"), 32);hideContent(this);'),r[a].setAttribute("oncontextmenu","showContent(this, event);return false;"),r[a].setAttribute("onerror","displayPlayBackErr(this);"),e.subtitles){let o=Object.keys(e.subtitles.lang),l=Object.values(e.subtitles.lang);if(o.length>0)for(let n=0;n<o.length;n++)r[a].innerHTML+="<track"+(e.subtitles.default.toLowerCase()===o[n].toLowerCase()?" default ":" ")+'src="'+l[n][0]+'" kind="subtitles" srclang="'+o[n].toLowerCase()+'" label="'+l[n][1]+'"/>',s.indexOf('<option value="off">Off</option>')&&s.push('<option value="off">Off</option>'),s.push("<option"+(e.subtitles.default.toLowerCase()===o[n].toLowerCase()?' selected="selected"':"")+' value="'+o[n]+'">'+l[n][1]+"</option>")}let c=document.createElement("div");c.innerHTML=(e.desc.display&&e.desc.viewer,r[a].outerHTML),c.innerHTML+=e.desc.viewer?"":'<div class="loading-container"><div class="loading-circle"></div></div><div class="video-player" onclick="hideContent(this);" tabindex="0"><div class="video-player-controls"><div class="video-progress"><div class="video-progress-filled"'+(e.progressFill.length>0?'style="background-color:'+e.progressFill[a]+'"':"")+'></div></div><span class="play-pause-btn" vid-state="paused" onclick="actVid(this, 32);"><i class="fa-solid fa-play"></i></span><input class="volume" type="range" oninput="changeVidVol(this)" min="0" max="1" step="0.01" value="1"/></div><div class="mute" toggle-stat="normal" onclick="setMute(this, 77)"><i class="fas fa-volume"></i></div><div class="fullscreen" toggle-stat="normal" onclick="setFull(this, 70)"><i class="fa-solid fa-maximize"></i></div><div class="cc" class="ccToggle" toggle-stat="hidden" onclick="toggleCC(this,\'en\');"><i class="fa-solid fa-closed-captioning"></i></div><div class="settings" class="settings"><button onclick="toggleSettings(this);"><i class="fa-solid fa-gear"></i></button><ul class="setList hidden"><li><i class="fa-solid fa-closed-captioning"></i> <select class="ccOption" onchange="changeCC(this.parentElement.parentElement.parentElement, this.value)">'+s.toString()+'</select></li><li><i class="fa-solid fa-sliders-up"></i> <select class="PlaybackSpeed" onchange="changePlaySpeed(this.parentElement.parentElement.parentElement, this.value)"><option value="0.25">0.25</option><option value="0.50">0.50</option><option value="0.75">0.75</option><option value="1" selected="selected">Normal</option><option value="1.25">1.25</option><option value="1.50">1.50</option><option value="1.75">1.75</option><option value="2">2</option></select></li></ul></div><div class="theaterMode" onclick="theaterMode(this)"><i class="fa-regular fa-rectangle-wide"></i></div><div class="time"><span class="current">00:00</span>&nbsp;/&nbsp;<span class="duration">00:00</span></div></div><div class="videoContext"><ul><li onclick="loop(this)"><span class="isActive"></span> <i class="fa-solid fa-arrows-rotate"></i> Loop</li><li onclick="pip(this)"><span class="isActive"></span> <i class="fa-solid fa-bring-forward fa-rotate-180"></i> Pictue-in-Picture</li></ul></div><div class="errorMsg"><div class="container"><h1><i class="fa-solid fa-triangle-exclamation fa-beat" style="color: #ff0000;"></i> Video Playback error</h1><p>There seems to be a problem with the video, try again later!</p></div></div>',c.classList.add("view"),c.setAttribute("viewData",a+1),t[i].replaceChild(c,r[a])}}}viewer(e){if("object"!=typeof e)return console.error("viewer[1] must be a JSON object"),!1;if("boolean"!=typeof e.static)return console.error("viewer[1].static must be a boolean!"),!1;if("object"!=typeof e.base?e.base={download:!0,copy:!0,clone:!0}:("boolean"!=typeof e.base.download&&(e.base.download=!0),"boolean"!=typeof e.base.download?e.base.download=!0:e.base.download=e.base.download,"boolean"!=typeof e.base.copy?e.base.copy=!0:e.base.copy=e.base.copy,"boolean"!=typeof e.base.open?e.base.open=!0:e.base.open=e.base.open,"boolean"!=typeof e.base.clone?e.base.clone=!0:e.base.clone=e.base.clone),"image"!==e.viewAs&&"video"!==e.viewAs)return console.error('viewer[1].viewAs must be "image" or "video"'),!1;if("string"!=typeof e.animate?e.animate="":e.animate=e.animate,""!==e.animate&&"curtain"!==e.animate&&"slideshow"!==e.animate)return console.error("viewer[1].animate must be NULL, curtain, or slideshow!"),!1;let t=document.querySelectorAll(".imgViewer-container.loaded");void 0!==e.static&&e.static;for(let i=0;i<t.length;i++)if(!t[i].className.match("noView")){t[i].classList.add("ImgViewer-viewable");let r=document.createElement("div");r.classList.add("ImgViewer-viewImg"),e.static&&r.classList.add("static"),e.static||r.setAttribute("onclick","zoomImg('out', this, event, false, '"+("image"===e.viewAs?"img":"video")+"');"),""!==e.animate&&r.classList.add(e.animate),r.innerHTML='<nav><ul class="nav-link">'+(e.base.download?'<li><a class="img-download" href="#" download="#"><i class="fa-solid fa-download"></i></a></li>':"")+(e.base.copy?'<li><a class="img-url-copy" href="#" img-copy-data="" onclick="copyURL(this.getAttribute(\'img-copy-data\'))"><i class="fa-solid fa-link"></i></a></li>':"")+(e.base.open?'<li><a class="img-url-open" href="#" img-copy-data="" onclick="window.open(this.getAttribute(\'img-copy-data\'),\'_blank\')"><i class="fa-solid fa-arrow-up-right-from-square"></i></a></li>':"")+(e.base.clone?'<li><a class="img-copy" href="#" img-copy-data="" onclick="copyURL(this.getAttribute(\'img-copy-data\'), false)"><i class="fa-solid fa-clone"></i></a></li>':"")+"<li><span class=\"ImgViewer-close\" onclick=\"zoomImg('out', this, event, true, '"+("image"===e.viewAs?"img":"video")+'\')"><i class="fa-solid fa-x"></i></span></li></ul></nav>'+("image"===e.viewAs?"<img/>":"<video></video>")+"<p></p>",document.querySelector("body").appendChild(r);let a=t[i].querySelectorAll("div.view");for(let s=0;s<a.length;s++)a[s].setAttribute("onclick",'zoomImg("in",this, event, false, \''+("image"===e.viewAs?"img":"video")+"');")}}resize(e){if("number"!=typeof e)return console.error("resize[1] must be a number"),!1;let t=document.querySelector('.imgViewer-container.loaded[view="frame"] [viewdata="'+parseInt(e)+'"]');if(t){let i=t.querySelector("img, video").getBoundingClientRect(),r=document.createElement("div");r.className="rtangle",r.style.width=i.width+"px",r.style.height=i.height+"px",r.setAttribute("onmousemove","resizeGrayBox(this, event)"),t.appendChild(r)}}crop(e){if("number"!=typeof e)return console.error("crop[1] must be a number"),!1;let t=document.querySelector('.imgViewer-container.loaded[view="frame"] [viewdata="'+parseInt(e)+'"]');if(t){let i=t.querySelector("img, video").getBoundingClientRect(),r=document.createElement("div");r.className="ctangle",r.style.width=i.width+"px",r.style.height=i.height+"px",r.setAttribute("onmousemove","cropGrayBox(this, event);"),t.appendChild(r)}}grayscale(e){return e.match(/^[\d]+%$/)?"grayscale("+e+")":(console.error("grayscale[1] must be a percentage!"),!1)}blur(e){return e.match(/^[\d]+px$/)?"blur("+e+")":(console.error("blur[1] must be a pixel!"),!1)}brightness(e){return e.match(/^[\d]+%$/)?"brightness("+e+")":(console.error("bright[1] must be a percentage!"),!1)}contrast(e){return e.match(/^[\d]+%$/)?"contrast("+e+")":(console.error("contrast[1] must be a percentage!"),!1)}dropShadow(e,t,i,r,a){return e.match(/^[\d]+px$/)?t.match(/^[\d]+px$/)?i.match(/^[\d]+px$/)?r.match(/^[\d]+px$/)?a.match(/^((rgba\([\d]{1,3},[\d]{1,3},[\d]{1,3},([0-1]*\.[0-9]+)\))|(rgb\([\d]{1,3},[\d]{1,3},[\d]{1,3}\))|(\#[\da-f]{6}|[a-z]+))$/)?"drop-shadow("+e+" "+t+" "+i+" "+(r.match("0px")?"":r+" ")+a+")":(console.error("dropShadow[5] must rgb(), rgba(), hex, or color name!"),!1):(console.error("dropShadow[4] must be a pixal!"),!1):(console.error("dropShadow[3] must be a pixal!"),!1):(console.error("dropShadow[2] must be a pixal!"),!1):(console.error("dropShadow[1] must be a pixal!"),!1)}hueRotate(e){return e.match(/^[\d]+deg$/)?"hue-rotate("+e+")":(console.error("hueRotate[1] must be a degree!"),!1)}invert(e){return e.match(/^[\d]+%$/)?"invert("+e+")":(console.error("invert[1] must be a percentage!"),!1)}opacity(e){return e.match(/^[\d]+%$/)?"opacity("+e+")":(console.error("opacity[1] must be a percentage!"),!1)}saturate(e){return e.match(/^[\d]+%$/)?"saturate("+e+")":(console.error("saturate[1] must be a percentage!"),!1)}sepia(e){return e.match(/^[\d]+%$/)?"sepia("+e+")":(console.error("sepia[1] must be a percentage!"),!1)}filters(e,t){let i=[];if("number"!=typeof e)return console.error("filters[1] must be a number"),!1;if("object"!=typeof t)return console.error("filters[2] must be an JSON object"),!1;"string"==typeof t.blur&&i.push(this.blur(t.blur)),"string"==typeof t.brightness&&i.push(this.brightness(t.brightness)),"string"==typeof t.grayscale&&i.push(this.grayscale(t.grayscale)),"string"==typeof t.contrast&&i.push(this.contrast(t.contrast)),Array.isArray(t.dropShadow)&&i.push(this.dropShadow(t.dropShadow[0],t.dropShadow[1],t.dropShadow[2],t.dropShadow[3],t.dropShadow[4],t.dropShadow[5])),"string"==typeof t.hueRotate&&i.push(this.hueRotate(t.hueRotate)),"string"==typeof t.invert&&i.push(this.invert(t.invert)),"string"==typeof t.opacity&&i.push(this.opacity(t.opacity)),"string"==typeof t.saturate&&i.push(this.saturate(t.saturate)),"string"==typeof t.sepia&&i.push(this.sepia(t.sepia));let r=document.querySelector('.imgViewer-container.loaded [viewdata="'+parseInt(e)+'"] img');i.length>0&&r.setAttribute("style","filter:"+i.join(" "))}}var resizing=!1,cropping=!1,dT=0,dR=0,dB=0,dL=0,vidLoaded=0;function killViews(e){document.querySelector(e).remove()}function resizeGrayBox(e,t){if(e.addEventListener("mousedown",function(){resizing=!0}),e.addEventListener("mouseup",function(){setTimeout(function(){resizing=!1;let t=e.getBoundingClientRect();e.parentElement.querySelector("img, video").style.width=t.width+"px",e.parentElement.querySelector("img, video").style.height=t.height+"px",killViews(".rtangle")},100)}),resizing){let i=e.parentElement.getBoundingClientRect();if(t.clientX>i.width+1);else{let r=t.clientX;e.style.width=r.toString()+"px"}if(t.clientY>i.height+1);else{let a=t.clientY;e.style.height=a.toString()+"px"}}}function cropGrayBox(e,t){if(e.addEventListener("mousedown",function(){dT=e.getBoundingClientRect().top,dR=e.getBoundingClientRect().right,dB=e.getBoundingClientRect().bottom,dL=e.getBoundingClientRect().left,cropping=!0}),e.addEventListener("mouseup",function(){setTimeout(function(){cropping=!1;let t=e.getBoundingClientRect();e.parentElement.querySelector("img, video").style.clipPath="inset("+(dT-t.top)+"px "+(dR-t.right)+"px "+(dB-t.bottom)+"px "+(dL-t.left)+"px)",e.parentElement.style.clipPath="inset("+(dT-t.top)+"px "+(dR-t.right)+"px "+(dB-t.bottom)+"px "+(dL-t.left)+"px)",e.parentElement.classList.add("noBorder"),killViews(".ctangle")},100)}),cropping){let i=e.parentElement.getBoundingClientRect();if(t.clientX>i.width+1);else{let r=t.clientX;e.style.width=r.toString()+"px"}if(t.clientY>i.height+1);else{let a=t.clientY;e.style.height=a.toString()+"px"}}}async function copyURL(e,t=!0){if(t)navigator.clipboard.writeText(e)?alert("Successfully copied to clipboard!"):alert("Failed to copy to clipboard!");else{let i=async e=>{let t=[new ClipboardItem({[e.type]:e})];try{await navigator.clipboard.write(t)}catch(i){alert("Failed to copy to clipboard!")}finally{alert("Successfully copied to clipboard!")}},r=await fetch(e),a=await r.blob();await i(a)}}function zoomImg(e,t,i,r=!1,a="img"){var s,o,l,n;if(resizing||cropping)return!1;if("string"!=typeof e)return console.error("zoomImg[1] must be a string"),!1;if("object"!=typeof t)return console.error("zoomImg[2] must be a object"),!1;if("object"!=typeof i)return console.error("zoomImg[3] must be a object"),!1;if("boolean"!=typeof r)return console.error("zoomImg[4] must be a boolean"),!1;let c=document.querySelector(".ImgViewer-viewImg");switch(c.className.match("curtain")?(s="100%",o="0px",l="100%",n="100%"):c.className.match("slideshow")?(s="0px",o="100%",l="100%",n="100%"):(s="0px",o="0px",l="100%",n="100%"),e){case"in":c.style.width=l,c.style.height=n,c.style.opacity=1,c.style.zIndex=1,c.classList.toggle("opened"),"img"===a&&(c.querySelector("img").src=t.querySelector("img").src),"video"===a&&(c.querySelector("video").src=t.querySelector("video").src,c.querySelector("video").controls=!0),"img"===a&&(c.querySelector("p").innerHTML="<span>"+new ImgViewer().mkNL(new ImgViewer().mkLk(t.querySelector("img").getAttribute("img-desc")))+"</span>"),"video"===a&&(c.querySelector("p").innerHTML="<span>"+new ImgViewer().mkNL(new ImgViewer().mkLk(t.querySelector("video").getAttribute("img-desc")))+"</span>"),c.querySelector("nav a.img-download")&&(c.querySelector("nav a.img-download").href="img"===a?t.querySelector("img").src:t.querySelector("video").src),c.querySelector("nav a.img-url-copy")&&c.querySelector("nav a.img-url-copy").setAttribute("img-copy-data","img"===a?t.querySelector("img").src:t.querySelector("video").src),c.querySelector("nav a.img-url-open")&&c.querySelector("nav a.img-url-open").setAttribute("img-copy-data","img"===a?t.querySelector("img").src:t.querySelector("video").src),c.querySelector("nav a.img-copy")&&c.querySelector("nav a.img-copy").setAttribute("img-copy-data","img"===a?t.querySelector("img").src:t.querySelector("video").src),c.querySelector("nav a")&&(c.querySelector("nav a").download="img"===a?t.querySelector("img").alt:t.querySelector("video").alt);break;case"out":if(r&&"boolean"==typeof r)c.style.width=s,c.style.height=o,c.style.opacity=0,c.style.zIndex=-1,c.classList.toggle("opened");else try{if(!i.target.className.match("ImgViewer-viewImg")||void 0===i.target)return!1;c.style.width=s,c.style.height=o,c.style.opacity=0,c.style.zIndex=-1,c.classList.toggle("opened")}catch(d){return!1}}}function calcTime(e){return(e=Math.round(e))<60?"00:"+(e<10?"0"+e:e):60>Math.floor(e/60)?(min=Math.floor(e/60),sec=e-60*min,(min<10?"0"+min:min)+":"+(sec<10?"0"+sec:sec)):(hrs=Math.floor(e/3600),min=e-60*hrs,sec=e-60*min,(hrs<10?"0"+hrs:hrs)+":"+(min<10?"0"+min:min)+":"+(sec<10?"0"+sec:sec))}function addSec(e,t,i){e.parentElement.querySelector(".video-progress");let r=i.keyCode||i.which;39===r&&(e.currentTime=e.currentTime+parseInt(t)),37===r&&(e.currentTime=e.currentTime-parseInt(t))}var resetSubtitle=0;function actVid(e,t){if(32==t.keyCode||32==t.which||32==t&&"none"===e.parentElement.parentElement.parentElement.querySelector(".videoContext").style.display){let i=e.parentElement.parentElement.parentElement.querySelector("video"),r=e.getAttribute("vid-state"),a=e.parentElement.parentElement.parentElement.querySelector(".duration"),s=e.parentElement.parentElement.parentElement.querySelector(".current"),o=e.parentElement.parentElement.parentElement.querySelector(".video-progress"),l=e.parentElement.parentElement.parentElement.querySelector(".video-progress-filled");if(resetSubtitle<1){let n=e.parentElement.parentElement.parentElement.querySelectorAll("track");for(let c=0;c<n.length;c++)n[c].parentElement.textTracks[c].mode="hidden";resetSubtitle=1}switch(o.addEventListener("click",e=>{let t=e.offsetX/o.offsetWidth*i.duration;i.currentTime=t}),i.addEventListener("timeupdate",function(){s.innerHTML=calcTime(i.currentTime),l.style.width=i.currentTime/i.duration*100+"%",i.currentTime/i.duration*100>=100&&(i.pause(),e.innerHTML='<i class="fa-solid fa-play"></i>',e.setAttribute("vid-state","paused"))}),r){case"paused":e.innerHTML='<i class="fa-solid fa-pause"></i>',e.setAttribute("vid-state","playing"),a.innerHTML=calcTime(i.duration),i.play(),4===i.readyState&&0==vidLoaded&&(i.parentElement.querySelector(".loading-container").remove(),vidLoaded=1);break;case"playing":e.innerHTML='<i class="fa-solid fa-play"></i>',e.setAttribute("vid-state","paused"),i.pause()}}}function changeVidVol(e){let t=e.parentElement.parentElement.parentElement.querySelector("video"),i=e.parentElement.parentElement.parentElement.querySelector(".mute");"0"===e.value?(i.setAttribute("toggle-stat","mute"),i.innerHTML='<i class="fa-solid fa-volume-xmark"></i>'):(i.innerHTML='<i class="fa-solid fa-volume"></i>',i.setAttribute("toggle-stat","normal")),t.volume=e.value}function setFull(e,t){let i=e.parentElement.parentElement.parentElement,r=e.getAttribute("toggle-stat");if(70==t.keyCode||70==t.which||70==t)switch(r){case"normal":i.classList.toggle("fullscreen"),e.innerHTML='<i class="fa-solid fa-minimize"></i>',e.setAttribute("toggle-stat","full");break;case"full":i.classList.toggle("fullscreen"),e.innerHTML='<i class="fa-solid fa-maximize"></i>',e.setAttribute("toggle-stat","normal")}}function setMute(e,t){let i=e.parentElement.parentElement.parentElement.querySelector("video"),r=e.parentElement.parentElement.parentElement.querySelector(".volume");if(77===t.keyCode||77===t.which||77===t)switch(e.getAttribute("toggle-stat")){case"normal":i.muted=!0,r.value="0",e.innerHTML='<i class="fa-solid fa-volume-xmark"></i>',e.setAttribute("toggle-stat","mute");break;case"mute":i.muted=!1,r.value="1",e.innerHTML='<i class="fa-solid fa-volume"></i>',e.setAttribute("toggle-stat","normal")}}function showContent(e,t){let i=e.parentElement.querySelector(".videoContext");i.style.display="block",i.style.top=t.offsetY+"px",i.style.left=t.offsetX+"px"}function hideContent(e){e.parentElement.querySelector(".videoContext").style.display="none"}function loop(e){let t=e.parentElement.parentElement.parentElement.querySelector("video");t.loop?(e.querySelector(".isActive").innerHTML="",t.loop=!1):(e.querySelector(".isActive").innerHTML='<i class="fa-solid fa-check"></i>',t.loop=!0)}function pip(e){let t=e.parentElement.parentElement.parentElement.parentElement;t.className.match("pip")?(e.querySelector(".isActive").innerHTML="",t.classList.toggle("pip")):(e.querySelector(".isActive").innerHTML='<i class="fa-solid fa-check"></i>',t.classList.toggle("pip"))}function displayPlayBackErr(e){if(null!==e.parentElement)return e.parentElement.querySelector(".errorMsg").style.display="block",!1}function changeCC(e,t){let i=e.parentElement.parentElement.querySelectorAll("track"),r=e.parentElement.parentElement.querySelector(".cc");for(let a=0;a<i.length;a++)"off"===t.toLowerCase()?(i[a].parentElement.textTracks[a].mode="hidden",r.classList.remove("active"),r.setAttribute("toggle-stat","hidden")):i[a].srclang.toLowerCase()===t.toLowerCase()?(i[a].parentElement.textTracks[a].mode="showing",r.classList.contains("active")?r.classList.replace("active","active"):r.classList.add("active"),r.setAttribute("toggle-stat","showing")):(i[a].parentElement.textTracks[a].mode="hidden",r.classList.contains("active")?r.classList.replace("active","active"):r.classList.add("active"),r.setAttribute("toggle-stat","showing"))}function changePlaySpeed(e,t){e.parentElement.parentElement.parentElement.querySelector("video").playbackRate=parseFloat(t)}function toggleCC(e,t){let i=e.parentElement.parentElement.parentElement.querySelectorAll("track");switch(e.getAttribute("toggle-stat")){case"hidden":for(let r=0;r<i.length;r++)i[r].srclang.toLowerCase()===t?i[r].parentElement.textTracks[r].mode="showing":i[r].parentElement.textTracks[r].mode="hidden";e.classList.toggle("active"),e.setAttribute("toggle-stat","showing");break;case"showing":for(let a=0;a<i.length;a++)i[a].parentElement.textTracks[a].mode="hidden";e.classList.toggle("active"),e.setAttribute("toggle-stat","hidden")}}function toggleSettings(e){e.parentElement.classList.toggle("focus"),e.parentElement.querySelector(".setList").classList.toggle("hidden")}function theaterMode(e){e.parentElement.parentElement.parentElement.classList.toggle("theater")}